import{r as o,l as c,g as r,m as i,n as m,u,b as d,o as h,a as f,f as w,p as P,q as C}from"./cart-DMW4Xhv0.js";function n(t){const s=o.modal.querySelector(".modal-product__btn--cart"),a=o.modal.querySelector(".modal-product__btn--wishlist");if(s){const e=c();s.textContent=e.includes(t)?"Remove from Cart":"Add to Cart",s.classList.toggle("active",e.includes(t))}if(a){const e=r();a.textContent=e.includes(t)?"Remove from Wishlist":"Add to Wishlist",a.classList.toggle("active",e.includes(t))}}async function L(t){let s=c();if(s.includes(t)?(s=s.filter(e=>e!==t),i("Product removed from cart")):(s.push(t),i("Product added to cart")),m(s),n(t),u(),window.location.href.endsWith("cart.html")){const e=await Promise.all(s.map(l=>fetchProductById(l)));o.cartProducts.innerHTML=d(e)}}async function v(t){let s=r();if(s.includes(t)?(s=s.filter(e=>e!==t),i("Product removed from wishlist")):(s.push(t),i("Product added to wishlist")),h(s),n(t),f(),window.location.href.endsWith("wishlist.html")){const e=await Promise.all(s.map(l=>fetchProductById(l)));o.cartProducts.innerHTML=d(e)}}function _(t){w(t).then(s=>{o.modalProduct.innerHTML=P(s),o.modal.classList.add("modal--is-open"),p(t),n(t)}).catch(s=>{console.error("Error opening modal:",s),C("Failed to load product details")})}function g(){o.modal.classList.remove("modal--is-open")}function p(t){const s=o.modal.querySelector(".modal-product__btn--cart"),a=o.modal.querySelector(".modal-product__btn--wishlist");s&&s.addEventListener("click",()=>L(t)),a&&a.addEventListener("click",()=>v(t))}n();document.addEventListener("DOMContentLoaded",()=>{o.modal.addEventListener("click",t=>{(t.target===o.modal||t.target.classList.contains("modal__close-btn"))&&g()})});export{_ as o};
//# sourceMappingURL=modal-FH3BqvZk.js.map
