{"version":3,"file":"wishlist.js","sources":["../src/wishlist.js"],"sourcesContent":["import { refs } from './js/refs.js';\nimport { fetchProductById } from './js/products-api.js';\nimport { initPageTheme, renderProducts } from './js/render-functions.js';\nimport { getWishlist } from './js/storage.js';\nimport { showLoader, hideLoader, updateWishlistCount } from './js/helpers.js';\nimport { openModal } from './js/modal.js';\n\ndocument.addEventListener('DOMContentLoaded', initWishlistPage);\n\nasync function initWishlistPage() {\n  try {\n    initPageTheme();\n    showLoader();\n\n    const wishlist = getWishlist();\n    updateWishlistCount();\n\n    if (wishlist.length === 0) {\n      showEmptyWishlist();\n      return;\n    }\n\n    const products = await Promise.all(\n      wishlist.map(id => fetchProductById(id))\n    );\n    renderWishlistProducts(products);\n    setupWishlistPageEventListeners();\n  } catch (error) {\n    console.error('Error initializing wishlist page:', error);\n    showErrorToast('Не вдалося завантажити список бажань');\n  } finally {\n    hideLoader();\n  }\n}\n\nfunction renderWishlistProducts(products) {\n  refs.wishlistProducts.innerHTML = renderProducts(products);\n}\n\nfunction showEmptyWishlist() {\n  refs.notFound.classList.add('not-found--visible');\n}\n\nfunction setupWishlistPageEventListeners() {\n  // Відкриття модального вікна\n  refs.wishlistProducts.addEventListener('click', e => {\n    const productItem = e.target.closest('.products__item');\n    if (productItem) {\n      const productId = productItem.dataset.id;\n      openModal(productId);\n    }\n  });\n}\n\n// Оновлення списку при змінах\nexport function updateWishlistDisplay() {\n  const wishlist = getWishlist();\n\n  if (wishlist.length === 0) {\n    showEmptyWishlist();\n    refs.wishlistProducts.innerHTML = '';\n  } else {\n    refs.notFound.classList.remove('not-found--visible');\n    // Можна додати перезавантаження списку\n  }\n\n  updateWishlistCount();\n}\n"],"names":["initWishlistPage","initPageTheme","showLoader","wishlist","getWishlist","updateWishlistCount","showEmptyWishlist","products","id","fetchProductById","renderWishlistProducts","setupWishlistPageEventListeners","error","hideLoader","refs","renderProducts","e","productItem","productId","openModal"],"mappings":"2IAOA,SAAS,iBAAiB,mBAAoBA,CAAgB,EAE9D,eAAeA,GAAmB,CAChC,GAAI,CACFC,IACAC,IAEA,MAAMC,EAAWC,IAGjB,GAFAC,IAEIF,EAAS,SAAW,EAAG,CACzBG,IACA,MACD,CAED,MAAMC,EAAW,MAAM,QAAQ,IAC7BJ,EAAS,IAAIK,GAAMC,EAAiBD,CAAE,CAAC,CAC7C,EACIE,EAAuBH,CAAQ,EAC/BI,GACD,OAAQC,EAAO,CACd,QAAQ,MAAM,oCAAqCA,CAAK,EACxD,eAAe,sCAAsC,CACzD,QAAY,CACRC,GACD,CACH,CAEA,SAASH,EAAuBH,EAAU,CACxCO,EAAK,iBAAiB,UAAYC,EAAeR,CAAQ,CAC3D,CAEA,SAASD,GAAoB,CAC3BQ,EAAK,SAAS,UAAU,IAAI,oBAAoB,CAClD,CAEA,SAASH,GAAkC,CAEzCG,EAAK,iBAAiB,iBAAiB,QAASE,GAAK,CACnD,MAAMC,EAAcD,EAAE,OAAO,QAAQ,iBAAiB,EACtD,GAAIC,EAAa,CACf,MAAMC,EAAYD,EAAY,QAAQ,GACtCE,EAAUD,CAAS,CACpB,CACL,CAAG,CACH"}