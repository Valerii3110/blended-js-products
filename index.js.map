{"version":3,"file":"index.js","sources":["../src/home.js"],"sourcesContent":["import { refs } from './js/refs.js';\nimport { fetchProducts, fetchCategories } from './js/products-api.js';\nimport { renderProducts, renderCategories } from './js/render-functions.js';\nimport {\n  handleCategoryClick,\n  handleProductClick,\n  handleLoadMore,\n  handleSearch,\n  handleSearchClear,\n  updateCartCount,\n  updateWishlistCount,\n  handleThemeToggle,\n  handleScrollUp,\n} from './js/handlers.js';\nimport { initTheme } from './js/storage.js';\n\nconst initApp = async () => {\n  // Ініціалізація теми\n  initTheme();\n\n  // Ініціалізація лічильників\n  updateCartCount();\n  updateWishlistCount();\n\n  try {\n    // Завантаження категорій\n    const categories = await fetchCategories();\n    if (refs.categoriesList) {\n      renderCategories(categories);\n    }\n\n    // Завантаження продуктів\n    const { products } = await fetchProducts();\n    if (refs.productsList) {\n      renderProducts(products);\n    }\n\n    // Додавання обробників подій з перевіркою на null\n    if (refs.categoriesList) {\n      refs.categoriesList.addEventListener('click', handleCategoryClick);\n    }\n\n    if (refs.productsList) {\n      refs.productsList.addEventListener('click', handleProductClick);\n    }\n\n    if (refs.loadMoreBtn) {\n      refs.loadMoreBtn.addEventListener('click', handleLoadMore);\n    }\n\n    if (refs.searchForm) {\n      refs.searchForm.addEventListener('submit', handleSearch);\n    }\n\n    if (refs.searchClearBtn) {\n      refs.searchClearBtn.addEventListener('click', handleSearchClear);\n    }\n\n    if (refs.themeToggle) {\n      refs.themeToggle.addEventListener('click', handleThemeToggle);\n    }\n\n    // Ініціалізація кнопки scrollUp\n    const scrollUpBtn = document.createElement('button');\n    scrollUpBtn.className = 'scroll-up';\n    scrollUpBtn.innerHTML = '↑';\n    scrollUpBtn.addEventListener('click', handleScrollUp);\n    document.body.appendChild(scrollUpBtn);\n\n    window.addEventListener('scroll', () => {\n      scrollUpBtn.style.display = window.scrollY > 300 ? 'block' : 'none';\n    });\n  } catch (error) {\n    console.error('Помилка ініціалізації додатка:', error);\n  }\n};\n\n// Запускаємо додаток після повного завантаження DOM\ndocument.addEventListener('DOMContentLoaded', initApp);\n"],"names":["initApp","initTheme","updateCartCount","updateWishlistCount","categories","fetchCategories","refs","renderCategories","products","fetchProducts","renderProducts","handleCategoryClick","handleProductClick","handleLoadMore","handleSearch","handleSearchClear","handleThemeToggle","scrollUpBtn","handleScrollUp","error"],"mappings":"gLAgBA,MAAMA,EAAU,SAAY,CAE1BC,IAGAC,IACAC,IAEA,GAAI,CAEF,MAAMC,EAAa,MAAMC,IACrBC,EAAK,gBACPC,EAAiBH,CAAU,EAI7B,KAAM,CAAE,SAAAI,CAAQ,EAAK,MAAMC,IACvBH,EAAK,cACPI,EAAeF,CAAQ,EAIrBF,EAAK,gBACPA,EAAK,eAAe,iBAAiB,QAASK,CAAmB,EAG/DL,EAAK,cACPA,EAAK,aAAa,iBAAiB,QAASM,CAAkB,EAG5DN,EAAK,aACPA,EAAK,YAAY,iBAAiB,QAASO,CAAc,EAGvDP,EAAK,YACPA,EAAK,WAAW,iBAAiB,SAAUQ,CAAY,EAGrDR,EAAK,gBACPA,EAAK,eAAe,iBAAiB,QAASS,CAAiB,EAG7DT,EAAK,aACPA,EAAK,YAAY,iBAAiB,QAASU,CAAiB,EAI9D,MAAMC,EAAc,SAAS,cAAc,QAAQ,EACnDA,EAAY,UAAY,YACxBA,EAAY,UAAY,IACxBA,EAAY,iBAAiB,QAASC,CAAc,EACpD,SAAS,KAAK,YAAYD,CAAW,EAErC,OAAO,iBAAiB,SAAU,IAAM,CACtCA,EAAY,MAAM,QAAU,OAAO,QAAU,IAAM,QAAU,MACnE,CAAK,CACF,OAAQE,EAAO,CACd,QAAQ,MAAM,iCAAkCA,CAAK,CACtD,CACH,EAGA,SAAS,iBAAiB,mBAAoBnB,CAAO"}